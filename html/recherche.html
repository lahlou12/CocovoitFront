<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by TEMPLATED
http://templated.co
Released for free under the Creative Commons Attribution License

Name       : Breadth 
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20140331

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900" rel="stylesheet" />
<link href="../css/default.css" rel="stylesheet" type="text/css" media="all" />
<link href="../css/fonts.css" rel="stylesheet" type="text/css" media="all" />

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>    


</head>
<body>
<div id="header-wrapper">
  <div id="header" class="container">
    <div id="logo">
      <h1><a href="index.html">Cocovoit</a></h1>
</div>
    <div id="menu">
      <ul>
        <li class="current_page_item"><a href="#" accesskey="1" title="">Rechercher</a></li>
        <li><a href="form_trajet.html" accesskey="2" title="">Proposer un trajet</a></li>
        <li><a href="signup.html" accesskey="3" title="">Inscription</a></li>
        <li><a href="connect.html" accesskey="4" title="">Connexion</a></li>
      </ul>
    </div>
  </div>
</div>

<script type="text/javascript" src="../js/recherche.js"></script> 

<div id="wrapper">

<div class="container">
  <form action="" method='post'>
  <h2>Recherche d'un trajet :</h2>
  <br>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="add_start">Ville de départ</label>
      <div id='add_start_box'><input type="texte" class="form-control" id="add_start" name="add_start" placeholder=""></div>
    </div>
    <div class="form-group col-md-6">
      <label for="add_end">Ville d'arrivée</label>
       <div id='add_end_box'><input type="texte" class="form-control" id="add_end" name="add_end" placeholder=""></div>
    </div>
 <input class="btn btn-primary" value="Rechercher" onclick="recherche()"></p>
</form>

  
  </div>
  <br><br><br>
  <h2>Trajet trouvé pour votre destination :</h2>
  
  <br>

  <ul class="list-group">
  <div id="myHTMLWrapper"></div>
</ul>
    
</div>


<div class="tring"></div>

</body>
<script type="text/javascript">
    
    if(localStorage.getItem('list_itineraire')){
      console.log("Test affichage :");

      var fct = "";

      var wrapper = document.getElementById("myHTMLWrapper");
      var myHTML="";

     

      arr_iti=JSON.parse(localStorage.getItem('list_itineraire'));
      //console.log(arr_iti);

      for (var i = arr_iti.length - 1; i >= 0; i--) {
        
        var id = arr_iti[i]._id;
        fct = "chargement_trajet(\'"+id+"\')";

        console.log(fct);
        myHTML = '<li class="list-group-item">'+arr_iti[i].adresseDepart+'<b> => </b> '+arr_iti[i].adresseArrive+'<br><br><input " class="btn btn-primary"  value="Selectionner" onclick ="'+fct+'"></li>';
         wrapper.innerHTML += myHTML;
      }
    }
  </script>

        
</html> 



